schema: '2.0'
stages:
  collecting:
    cmd: "papermill nbs/00_Collecting_Data.ipynb scripts/00_Collecting_Data.ipynb\
      \ --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 833e0dcd5747728dfba5576415c3b0b7
      size: 99
    - path: data/raw-data
      md5: 23bab0752687dcb94db5dae45ec8885a.dir
      size: 362375821
      nfiles: 12
    - path: nbs/00_Collecting_Data.ipynb
      md5: 771c396e23342ff2a534218cf0fef16f
      size: 26859
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: data/Concatenated_Orig_data.csv
      md5: 06d462084a283c2ca352c6cb453791e2
      size: 330116431
    - path: scripts/00_Collecting_Data.ipynb
      md5: 862d01718113b6a4c7eec76f789e8635
      size: 26876
  cleaning:
    cmd: "papermill nbs/01_Cleaning_Data.ipynb scripts/01_Cleaning_Data.ipynb --cwd\
      \ nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 833e0dcd5747728dfba5576415c3b0b7
      size: 99
    - path: data/Concatenated_Orig_data.csv
      md5: 06d462084a283c2ca352c6cb453791e2
      size: 330116431
    - path: nbs/01_Cleaning_Data.ipynb
      md5: f32a4762653686de37d437640fab2ea8
      size: 12820
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: scripts/01_Cleaning_Data.ipynb
      md5: d5843b3483edbc67a84b6f2e7946471b
      size: 20424
  nn-preprocess:
    cmd: jupyter nbconvert --to python --execute nbs/02a_NN_Preprocessing.ipynb --output
      ../scripts/02a_NN_Preprocessing
    deps:
    - path: data/cleaned-data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/02a_NN_Preprocessing.ipynb
      md5: 098a758ae889a78ae6dcaf04f447b534
      size: 19298
    - path: pdm.lock
      md5: e4b183bd55071ffa4a5729b5f35b7474
      size: 514199
    - path: pyproject.toml
      md5: da79de29e64ea326681e721ec816fda6
      size: 821
    outs:
    - path: data/processed-data/nn/actual/FAA-1.csv
      md5: 5f9659c134eedb7a2eaba56c7500ecb6
      size: 1326
    - path: data/processed-data/nn/test/FAA-1.csv
      md5: 9107b3153c0c014691d59d65f5eaecb1
      size: 65202
    - path: data/processed-data/nn/train/FAA-1.csv
      md5: e3905c32bdbdd684823df7997e5c9309
      size: 208377
    - path: data/processed-data/nn/val/FAA-1.csv
      md5: 3700375fcc8ba80a519296dd0da640d6
      size: 52189
    - path: scripts/02a_NN_Preprocessing.py
      md5: 6e0f03a0c4f7e7fe5ff0d2178bda570a
      size: 3657
  classification-preprocess:
    cmd: jupyter nbconvert --to python --execute nbs/02b_Classification_Preprocessing.ipynb
      --output ../scripts/02b_Classification_Preprocessing
    deps:
    - path: data/cleaned-data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/02b_Classification_Preprocessing.ipynb
      md5: 9d9d423fd87421dab28f7977b0a31311
      size: 43786
    - path: pdm.lock
      md5: e4b183bd55071ffa4a5729b5f35b7474
      size: 514199
    - path: pyproject.toml
      md5: da79de29e64ea326681e721ec816fda6
      size: 821
    outs:
    - path: data/cleaned-data/19_features.csv
      md5: 0124e53f3dc3b94299301bdaea544ec6
      size: 11172648
    - path: data/cleaned-data/Encoded_Features.csv
      md5: b4c78ec850839e3b26ef000da391f097
      size: 166216981
    - path: scripts/02b_Classification_Preprocessing.py
      md5: 36b0aa922edd4061d0491328e96c5f22
      size: 5116
  jupyter:
    cmd: which jupyter
  nn-training:
    cmd: jupyter nbconvert --to python --execute nbs/03a_Training_Model.ipynb --output
      ../scripts/03a_Training_Model
    deps:
    - path: data/processed-data/nn/test/FAA-1.csv
      md5: 9107b3153c0c014691d59d65f5eaecb1
      size: 65202
    - path: data/processed-data/nn/train/FAA-1.csv
      md5: e3905c32bdbdd684823df7997e5c9309
      size: 208377
    - path: data/processed-data/nn/val/FAA-1.csv
      md5: 3700375fcc8ba80a519296dd0da640d6
      size: 52189
    - path: nbs/03a_Training_Model.ipynb
      md5: def5640ddd3783e49a47df9186fa4186
      size: 25468
    - path: pdm.lock
      md5: e4b183bd55071ffa4a5729b5f35b7474
      size: 514199
    - path: pyproject.toml
      md5: da79de29e64ea326681e721ec816fda6
      size: 821
    outs:
    - path: output/model/
      md5: df2b178a1ab4840c83dfdb67c19c0234.dir
      size: 434223005
      nfiles: 7
    - path: scripts/03a_Training_Model.py
      md5: b40020ab86232c85af774d8d6b41f2d6
      size: 2905
  exp:
    cmd: "papermill  nbs/exp.ipynb  scripts/exp.ipynb -p TOKENIZER bert-base-cased\
      \ -p LEARNING_RATE 5e-05 -p BATCH_SIZE 8 -p EPOCHS 2\n"
    deps:
    - path: Text_label_data_c119.csv
      md5: c03a5a44891c28b1bd3a654cf3e68062
      size: 307770
    - path: nbs/exp.ipynb
      md5: eefd77142b93fe2cefe9637f94ec55ad
      size: 50389
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: eval/metrics.json
      md5: 25c2d204fd7114cd9991808ea240c78d
      size: 38
    - path: eval/plots/sklearn/
      md5: a4c0ad5327cee452b2072de0aba6f072.dir
      size: 26842
      nfiles: 1
  preprocess_nn:
    cmd: "papermill nbs/02a_NN_Preprocessing.ipynb scripts/02a_NN_Preprocessing.ipynb\
      \ --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 833e0dcd5747728dfba5576415c3b0b7
      size: 99
    - path: data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/02a_NN_Preprocessing.ipynb
      md5: ea3212cabb377b831ebd75ffa4a41608
      size: 19008
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: data/splits
      md5: fcef43f5241fbb6b0b8ad770cbf6fde2.dir
      size: 3270940
      nfiles: 40
    - path: scripts/02a_NN_Preprocessing.ipynb
      md5: b0281986021239111032de5e9b88d5db
      size: 32189
  train_nn:
    cmd: "papermill nbs/03a_Training_Model.ipynb scripts/03a_Training_Model.ipynb\
      \ -p TOKENIZER bert-base-cased -p LEARNING_RATE 5e-05 -p BATCH_SIZE 8 -p EPOCHS\
      \ 2 -p KFOLD 5 --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 833e0dcd5747728dfba5576415c3b0b7
      size: 99
    - path: data/splits/test/FAA-5.csv
      md5: 0155ceef0c51f7de5498ab3234c7abf9
      size: 65261
    - path: data/splits/train/FAA-5.csv
      md5: 08ba6b6515fabc53d599d8c7ce83e6f0
      size: 208330
    - path: data/splits/val/FAA-5.csv
      md5: e10a65021c8d886ce4c2fdf73804f2af
      size: 52177
    - path: nbs/03a_Training_Model.ipynb
      md5: fe014b888e2e510a076f628d72e8263b
      size: 7866
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: model/
      md5: 4b1f98bf1d7f764632e22518839f7316.dir
      size: 434223096
      nfiles: 7
    - path: scripts/03a_Training_Model.ipynb
      md5: 4db1f51f4e9ce0c0f44906b86724cfed
      size: 30388
  eval:
    cmd: "papermill nbs/06_inference.ipynb scripts/06_inference.ipynb -p KFOLD 5 --cwd\
      \ nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 2bf1dc48badce2f4296d9364c51adffd
      size: 100
    - path: data/splits/val/FAA-5.csv
      md5: e10a65021c8d886ce4c2fdf73804f2af
      size: 52177
    - path: nbs/06_inference.ipynb
      md5: 3f25c296ba316ba905d0f4780790726f
      size: 6532
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: eval/metrics.json
      md5: 11e2265e5b8b8db2a03f0fdc3dc70580
      size: 38
    - path: eval/plots/sklearn
      md5: e9e3afb5da55cf427d58f5d7b816382a.dir
      size: 26842
      nfiles: 1
    - path: scripts/06_inference.ipynb
      md5: 72307caf4b0e109d139c7dce149a3d87
      size: 45640
  data_collection:
    cmd: "papermill nbs/01_data_collection.ipynb scripts/01_data_collection.ipynb\
      \ --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 2bf1dc48badce2f4296d9364c51adffd
      size: 100
    - path: data/raw-data
      md5: 23bab0752687dcb94db5dae45ec8885a.dir
      size: 362375821
      nfiles: 12
    - path: nbs/01_data_collection.ipynb
      md5: 5e1832510fd06185a2a615c963cae4c0
      size: 24022
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: data/Concatenated_Orig_data.csv
      md5: 06d462084a283c2ca352c6cb453791e2
      size: 330116431
    - path: scripts/01_data_collection.ipynb
      md5: a6ac3f93c2a11ada49b226473ee700ad
      size: 26781
  data_cleaning:
    cmd: "papermill nbs/02_data_cleaning.ipynb scripts/02_data_cleaning.ipynb --cwd\
      \ nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 2bf1dc48badce2f4296d9364c51adffd
      size: 100
    - path: data/Concatenated_Orig_data.csv
      md5: 06d462084a283c2ca352c6cb453791e2
      size: 330116431
    - path: nbs/02_data_cleaning.ipynb
      md5: 17bfad263b6760a2f1f52d728b701d9a
      size: 12815
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: scripts/02_data_cleaning.ipynb
      md5: 6b4841e2573eebccaf5432ae000d91a1
      size: 20422
  feature_extraction:
    cmd: "papermill nbs/03_feature_extraction.ipynb scripts/03_feature_extraction.ipynb\
      \ --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 2bf1dc48badce2f4296d9364c51adffd
      size: 100
    - path: data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/03_feature_extraction.ipynb
      md5: 7bfcc912976ebad8db9ac852b9c92f06
      size: 18974
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: data/splits
      md5: fcef43f5241fbb6b0b8ad770cbf6fde2.dir
      size: 3270940
      nfiles: 40
    - path: scripts/03_feature_extraction.ipynb
      md5: 9396ca2910f1d1fb8833e8000d860770
      size: 32162
  training:
    cmd: "papermill nbs/05_training.ipynb scripts/05_training.ipynb -p TOKENIZER bert-base-cased\
      \ -p LEARNING_RATE 5e-05 -p BATCH_SIZE 8 -p EPOCHS 2 -p KFOLD 5 --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 2bf1dc48badce2f4296d9364c51adffd
      size: 100
    - path: data/splits/test/FAA-5.csv
      md5: 0155ceef0c51f7de5498ab3234c7abf9
      size: 65261
    - path: data/splits/train/FAA-5.csv
      md5: 08ba6b6515fabc53d599d8c7ce83e6f0
      size: 208330
    - path: data/splits/val/FAA-5.csv
      md5: e10a65021c8d886ce4c2fdf73804f2af
      size: 52177
    - path: nbs/05_training.ipynb
      md5: fe014b888e2e510a076f628d72e8263b
      size: 7866
    - path: pdm.lock
      md5: cc77ffe666901ac84351a7f7ca7189e1
      size: 506941
    - path: pyproject.toml
      md5: f3eddc0c4dc1c80bacd6b5c089f69422
      size: 714
    outs:
    - path: model/
      md5: bb836cde04bb42e9b58a9023e060dffa.dir
      size: 434223096
      nfiles: 7
    - path: scripts/05_training.ipynb
      md5: a11967f2eae3dc91402087e9593193ba
      size: 30974
