schema: '2.0'
stages:
  collecting:
    cmd: "papermill nbs/00_Collecting_Data.ipynb scripts/00_Collecting_Data.ipynb\
      \ --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 8c22d9e78d7ef3c10db38d29d32705db
      size: 94
    - path: data/raw-data
      md5: 23bab0752687dcb94db5dae45ec8885a.dir
      size: 362375821
      nfiles: 12
    - path: nbs/00_Collecting_Data.ipynb
      md5: 771c396e23342ff2a534218cf0fef16f
      size: 26859
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: data/Concatenated_Orig_data.csv
      md5: 06d462084a283c2ca352c6cb453791e2
      size: 330116431
    - path: scripts/00_Collecting_Data.ipynb
      md5: fee73097a652bf3eae546d28b9b1de2a
      size: 26867
  cleaning:
    cmd: "papermill nbs/01_Cleaning_Data.ipynb scripts/01_Cleaning_Data.ipynb --cwd\
      \ nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 8c22d9e78d7ef3c10db38d29d32705db
      size: 94
    - path: data/Concatenated_Orig_data.csv
      md5: 06d462084a283c2ca352c6cb453791e2
      size: 330116431
    - path: nbs/01_Cleaning_Data.ipynb
      md5: f32a4762653686de37d437640fab2ea8
      size: 12820
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: scripts/01_Cleaning_Data.ipynb
      md5: f02a504973c77717ac90df838e7b8486
      size: 20405
  nn-preprocess:
    cmd: jupyter nbconvert --to python --execute nbs/02a_NN_Preprocessing.ipynb --output
      ../scripts/02a_NN_Preprocessing
    deps:
    - path: data/cleaned-data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/02a_NN_Preprocessing.ipynb
      md5: 098a758ae889a78ae6dcaf04f447b534
      size: 19298
    - path: pdm.lock
      md5: e4b183bd55071ffa4a5729b5f35b7474
      size: 514199
    - path: pyproject.toml
      md5: da79de29e64ea326681e721ec816fda6
      size: 821
    outs:
    - path: data/processed-data/nn/actual/FAA-1.csv
      md5: 5f9659c134eedb7a2eaba56c7500ecb6
      size: 1326
    - path: data/processed-data/nn/test/FAA-1.csv
      md5: 9107b3153c0c014691d59d65f5eaecb1
      size: 65202
    - path: data/processed-data/nn/train/FAA-1.csv
      md5: e3905c32bdbdd684823df7997e5c9309
      size: 208377
    - path: data/processed-data/nn/val/FAA-1.csv
      md5: 3700375fcc8ba80a519296dd0da640d6
      size: 52189
    - path: scripts/02a_NN_Preprocessing.py
      md5: 6e0f03a0c4f7e7fe5ff0d2178bda570a
      size: 3657
  classification-preprocess:
    cmd: jupyter nbconvert --to python --execute nbs/02b_Classification_Preprocessing.ipynb
      --output ../scripts/02b_Classification_Preprocessing
    deps:
    - path: data/cleaned-data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/02b_Classification_Preprocessing.ipynb
      md5: 9d9d423fd87421dab28f7977b0a31311
      size: 43786
    - path: pdm.lock
      md5: e4b183bd55071ffa4a5729b5f35b7474
      size: 514199
    - path: pyproject.toml
      md5: da79de29e64ea326681e721ec816fda6
      size: 821
    outs:
    - path: data/cleaned-data/19_features.csv
      md5: 0124e53f3dc3b94299301bdaea544ec6
      size: 11172648
    - path: data/cleaned-data/Encoded_Features.csv
      md5: b4c78ec850839e3b26ef000da391f097
      size: 166216981
    - path: scripts/02b_Classification_Preprocessing.py
      md5: 36b0aa922edd4061d0491328e96c5f22
      size: 5116
  jupyter:
    cmd: which jupyter
  nn-training:
    cmd: jupyter nbconvert --to python --execute nbs/03a_Training_Model.ipynb --output
      ../scripts/03a_Training_Model
    deps:
    - path: data/processed-data/nn/test/FAA-1.csv
      md5: 9107b3153c0c014691d59d65f5eaecb1
      size: 65202
    - path: data/processed-data/nn/train/FAA-1.csv
      md5: e3905c32bdbdd684823df7997e5c9309
      size: 208377
    - path: data/processed-data/nn/val/FAA-1.csv
      md5: 3700375fcc8ba80a519296dd0da640d6
      size: 52189
    - path: nbs/03a_Training_Model.ipynb
      md5: def5640ddd3783e49a47df9186fa4186
      size: 25468
    - path: pdm.lock
      md5: e4b183bd55071ffa4a5729b5f35b7474
      size: 514199
    - path: pyproject.toml
      md5: da79de29e64ea326681e721ec816fda6
      size: 821
    outs:
    - path: output/model/
      md5: df2b178a1ab4840c83dfdb67c19c0234.dir
      size: 434223005
      nfiles: 7
    - path: scripts/03a_Training_Model.py
      md5: b40020ab86232c85af774d8d6b41f2d6
      size: 2905
  exp:
    cmd: "papermill  nbs/exp.ipynb  scripts/exp.ipynb -p TOKENIZER bert-base-cased\
      \ -p LEARNING_RATE 5e-05 -p BATCH_SIZE 8 -p EPOCHS 2\n"
    deps:
    - path: Text_label_data_c119.csv
      md5: c03a5a44891c28b1bd3a654cf3e68062
      size: 307770
    - path: nbs/exp.ipynb
      md5: eefd77142b93fe2cefe9637f94ec55ad
      size: 50389
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: eval/metrics.json
      md5: 25c2d204fd7114cd9991808ea240c78d
      size: 38
    - path: eval/plots/sklearn/
      md5: a4c0ad5327cee452b2072de0aba6f072.dir
      size: 26842
      nfiles: 1
  preprocess_nn:
    cmd: "papermill nbs/02a_NN_Preprocessing.ipynb scripts/02a_NN_Preprocessing.ipynb\
      \ --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 8c22d9e78d7ef3c10db38d29d32705db
      size: 94
    - path: data/Concatenated_Clean_data.csv
      md5: 0aa79c9fc5a4f07cdf69faa47dc63bd4
      size: 133064786
    - path: nbs/02a_NN_Preprocessing.ipynb
      md5: ea3212cabb377b831ebd75ffa4a41608
      size: 19008
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: data/splits
      md5: fcef43f5241fbb6b0b8ad770cbf6fde2.dir
      size: 3270940
      nfiles: 40
    - path: scripts/02a_NN_Preprocessing.ipynb
      md5: efe639ec257dc4cd28d6083c8d87a9b3
      size: 32175
  train_nn:
    cmd: "papermill nbs/03a_Training_Model.ipynb scripts/03a_Training_Model.ipynb\
      \ -p TOKENIZER bert-base-cased -p LEARNING_RATE 5e-05 -p BATCH_SIZE 8 -p EPOCHS\
      \ 2 -p KFOLD 5 --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 8c22d9e78d7ef3c10db38d29d32705db
      size: 94
    - path: data/splits/test/FAA-5.csv
      md5: 0155ceef0c51f7de5498ab3234c7abf9
      size: 65261
    - path: data/splits/train/FAA-5.csv
      md5: 08ba6b6515fabc53d599d8c7ce83e6f0
      size: 208330
    - path: data/splits/val/FAA-5.csv
      md5: e10a65021c8d886ce4c2fdf73804f2af
      size: 52177
    - path: nbs/03a_Training_Model.ipynb
      md5: 212d9d08c3e6449db0087abde5da37c0
      size: 7910
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: model/
      md5: 3c19d3a4b3fa1f53f668351614f45951.dir
      size: 434223096
      nfiles: 7
    - path: scripts/03a_Training_Model.ipynb
      md5: 03a1ac200b40c4d8a0bc83fb541d9ce3
      size: 27753
  eval:
    cmd: "papermill nbs/04a_Evaluating_Model.ipynb scripts/04a_Evaluating_Model.ipynb\
      \ -p KFOLD 5 --cwd nbs/\n"
    deps:
    - path: .pdm.toml
      md5: 8c22d9e78d7ef3c10db38d29d32705db
      size: 94
    - path: data/splits/val/FAA-5.csv
      md5: e10a65021c8d886ce4c2fdf73804f2af
      size: 52177
    - path: nbs/04a_Evaluating_Model.ipynb
      md5: fd0a834f5e01e8551609b361617538ec
      size: 6554
    - path: pdm.lock
      md5: f0742ba5c2a2485727546699e2e29ee5
      size: 528461
    - path: pyproject.toml
      md5: b53ed42b8463034532897c6fb6a16544
      size: 722
    outs:
    - path: eval/metrics.json
      md5: 11e2265e5b8b8db2a03f0fdc3dc70580
      size: 38
    - path: eval/plots/sklearn
      md5: dc26a9ca3332f8b69acec1e77d9c129e.dir
      size: 26842
      nfiles: 1
    - path: scripts/04a_Evaluating_Model.ipynb
      md5: df7941ea4407066cf8c1ae023520aa8f
      size: 46595
